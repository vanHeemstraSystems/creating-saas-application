<!DOCTYPE html>
<html>
  <head>
    <title>FoamTree in scrollable content</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <meta property="og:image" content="//get.carrotsearch.com/foamtree/latest/demos/assets/img/main-thumbnail.jpg"/>

    <meta charset="utf-8" />
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/css/common.css" rel="stylesheet" />
    <style>
      #left, #right {
        position: absolute;
        top: 20px; bottom: 20px;
        width: 41%;
        overflow-y: auto;
        padding-right: 20px;
      }
      #left {
        left: 6%;
      }
      #right {
        right: 6%;
      }
      #non-scrollable-foamtree, #scrollable-foamtree {
        width: 100%;
        height: 300px;
        margin-bottom: 20px;
      }
      .lorem {
        color: #aaa;
      }
    </style>
  </head>

  <body>
    <div id="container">
      <div id="left">
        <h3>FoamTree with default settings</h3>
        <p>
          Mouse wheel and touch events on FoamTree element will be captured and will not
          cause the content to scroll.
        </p>

        <p class="lorem">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin vitae ante enim, sit amet molestie purus.
          Phasellus dolor felis, bibendum vel tincidunt non, ultricies et nibh. Nunc sodales auctor posuere. Donec a
          erat nibh, id suscipit lacus. Etiam congue dapibus vestibulum. Sed vitae magna dolor. Vestibulum ante ipsum
          primis in faucibus orci luctus et ultrices posuere cubilia Curae; Quisque varius dignissim dolor ac commodo.
          Vestibulum hendrerit posuere sagittis. Maecenas ac neque eros, ut dignissim quam.
        </p>

        <div id="non-scrollable-foamtree"></div>

        <p class="lorem">
          Nunc vulputate venenatis lobortis. Morbi viverra, est non gravida malesuada, sapien nunc sodales mi, ac
          vehicula lacus ligula accumsan nunc. Duis imperdiet diam sed mi venenatis vel dictum sapien eleifend.
          Curabitur neque felis, molestie eu iaculis sit amet, imperdiet in orci. Cras aliquet fermentum mi, eu sagittis
          purus pretium a. Proin euismod odio a mi imperdiet suscipit. Etiam dui tortor, vehicula ut dapibus ac,
          adipiscing eu turpis. Ut laoreet condimentum rhoncus. Donec dui elit, tincidunt quis pulvinar sed, ultricies
          sit amet urna. In vel ligula vel massa scelerisque volutpat non nec risus. Class aptent taciti sociosqu ad
          litora torquent per conubia nostra, per inceptos himenaeos. Sed velit sapien, ornare et eleifend sit amet,
          pellentesque at tellus. Fusce congue porta nisl, sed bibendum nunc fringilla a. Fusce luctus varius ipsum, eu
          suscipit turpis luctus at. Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        </p>

        <p class="lorem">
          Suspendisse id quam sed lacus mattis lacinia volutpat in justo. Praesent condimentum tellus vel orci tempor
          porttitor. Nam vel nunc tortor, vel bibendum orci. Proin pellentesque lacus erat, quis fermentum erat. Nullam
          sed metus sem, sit amet imperdiet arcu. Nullam sit amet scelerisque tellus. Ut eleifend ante sit amet orci
          hendrerit nec gravida est posuere. Praesent non massa imperdiet justo tincidunt ornare quis in orci. Ut
          condimentum varius eros varius dignissim. Quisque aliquam augue at odio pretium iaculis. Nullam risus sem,
          convallis et rutrum a, lobortis in massa. Cum sociis natoque penatibus et magnis dis parturient montes,
          nascetur ridiculus mus. Nulla vitae nulla sed ligula vulputate semper a quis velit. Suspendisse pretium metus
          ligula, a mattis ligula. Sed nec eros nunc. Vestibulum ut orci quam, eget condimentum quam.
        </p>

        <p class="lorem">
          Integer vitae posuere lacus. Etiam posuere volutpat purus sed dictum. Integer sed ipsum lectus. Suspendisse et
          rutrum lorem. Phasellus eu elit id mauris fringilla ultricies. Donec metus justo, imperdiet ac sodales eget,
          hendrerit eu diam. Praesent dapibus nisi nec felis vulputate non luctus velit dignissim. Nam tincidunt
          accumsan ante sit amet tempus. Cras quis elit id tortor adipiscing feugiat. In hac habitasse platea dictumst.
          Aliquam sit amet velit ac lacus rutrum vulputate et vitae turpis.
        </p>

        <p class="lorem">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin vitae ante enim, sit amet molestie purus.
          Phasellus dolor felis, bibendum vel tincidunt non, ultricies et nibh. Nunc sodales auctor posuere. Donec a
          erat nibh, id suscipit lacus. Etiam congue dapibus vestibulum. Sed vitae magna dolor. Vestibulum ante ipsum
          primis in faucibus orci luctus et ultrices posuere cubilia Curae; Quisque varius dignissim dolor ac commodo.
          Vestibulum hendrerit posuere sagittis. Maecenas ac neque eros, ut dignissim quam.
        </p>
      </div>
      <div id="right">
        <h3>FoamTree with event capturing disabled</h3>
        <p>
          Mouse wheel and touch events on FoamTree element will not be captured and will
          cause the content to scroll.
        </p>

        <div id="scrollable-foamtree"></div>

        <p class="lorem">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin vitae ante enim, sit amet molestie purus.
          Phasellus dolor felis, bibendum vel tincidunt non, ultricies et nibh. Nunc sodales auctor posuere. Donec a
          erat nibh, id suscipit lacus. Etiam congue dapibus vestibulum. Sed vitae magna dolor. Vestibulum ante ipsum
          primis in faucibus orci luctus et ultrices posuere cubilia Curae; Quisque varius dignissim dolor ac commodo.
          Vestibulum hendrerit posuere sagittis. Maecenas ac neque eros, ut dignissim quam.
        </p>

        <p class="lorem">
          Nunc vulputate venenatis lobortis. Morbi viverra, est non gravida malesuada, sapien nunc sodales mi, ac
          vehicula lacus ligula accumsan nunc. Duis imperdiet diam sed mi venenatis vel dictum sapien eleifend.
          Curabitur neque felis, molestie eu iaculis sit amet, imperdiet in orci. Cras aliquet fermentum mi, eu sagittis
          purus pretium a. Proin euismod odio a mi imperdiet suscipit. Etiam dui tortor, vehicula ut dapibus ac,
          adipiscing eu turpis. Ut laoreet condimentum rhoncus. Donec dui elit, tincidunt quis pulvinar sed, ultricies
          sit amet urna. In vel ligula vel massa scelerisque volutpat non nec risus. Class aptent taciti sociosqu ad
          litora torquent per conubia nostra, per inceptos himenaeos. Sed velit sapien, ornare et eleifend sit amet,
          pellentesque at tellus. Fusce congue porta nisl, sed bibendum nunc fringilla a. Fusce luctus varius ipsum, eu
          suscipit turpis luctus at. Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        </p>

        <p class="lorem">
          Suspendisse id quam sed lacus mattis lacinia volutpat in justo. Praesent condimentum tellus vel orci tempor
          porttitor. Nam vel nunc tortor, vel bibendum orci. Proin pellentesque lacus erat, quis fermentum erat. Nullam
          sed metus sem, sit amet imperdiet arcu. Nullam sit amet scelerisque tellus. Ut eleifend ante sit amet orci
          hendrerit nec gravida est posuere. Praesent non massa imperdiet justo tincidunt ornare quis in orci. Ut
          condimentum varius eros varius dignissim. Quisque aliquam augue at odio pretium iaculis. Nullam risus sem,
          convallis et rutrum a, lobortis in massa. Cum sociis natoque penatibus et magnis dis parturient montes,
          nascetur ridiculus mus. Nulla vitae nulla sed ligula vulputate semper a quis velit. Suspendisse pretium metus
          ligula, a mattis ligula. Sed nec eros nunc. Vestibulum ut orci quam, eget condimentum quam.
        </p>

        <p class="lorem">
          Integer vitae posuere lacus. Etiam posuere volutpat purus sed dictum. Integer sed ipsum lectus. Suspendisse et
          rutrum lorem. Phasellus eu elit id mauris fringilla ultricies. Donec metus justo, imperdiet ac sodales eget,
          hendrerit eu diam. Praesent dapibus nisi nec felis vulputate non luctus velit dignissim. Nam tincidunt
          accumsan ante sit amet tempus. Cras quis elit id tortor adipiscing feugiat. In hac habitasse platea dictumst.
          Aliquam sit amet velit ac lacus rutrum vulputate et vitae turpis.
        </p>

        <p class="lorem">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin vitae ante enim, sit amet molestie purus.
          Phasellus dolor felis, bibendum vel tincidunt non, ultricies et nibh. Nunc sodales auctor posuere. Donec a
          erat nibh, id suscipit lacus. Etiam congue dapibus vestibulum. Sed vitae magna dolor. Vestibulum ante ipsum
          primis in faucibus orci luctus et ultrices posuere cubilia Curae; Quisque varius dignissim dolor ac commodo.
          Vestibulum hendrerit posuere sagittis. Maecenas ac neque eros, ut dignissim quam.
        </p>
      </div>
    </div>
    <div id="side">
      <h2>FoamTree in scrollable content</h2>

      <p>
        To make sure the user can zoom and pan around the
        visualization, FoamTree by default prevents the default
        actions of mouse wheel and touch events triggered over
        FoamTree element. When the visualization is embedded in a
        larger block of scrollable content, you may want to allow
        those default actions, so that mouse wheel and touch
        gestures performed over FoamTree cause the whole content to
        scroll.
      </p>

      <p>
        The panel on the left embeds FoamTree in scrollable content
        with its default settings. Notice that mouse wheel and
        touch gestures performed over the FoamTree element do
        not cause the content to scroll.
      </p>

      <p>
        The panel on the right embeds FoamTree with
        <code><a href="../api/index.html#onGroupMouseWheel">onGroupMouseWheel</a></code>
        and <code><a href="../api/index.html#onGroupDrag">onGroupDrag</a></code>
        event handlers that call the <code><a href="../api/index.html#allowOriginalEventDefault">allowOriginalEventDefault()</a></code>
        method to restore the default actions of the mouse wheel and
        touch-based dragging. To avoid confusing interactions, the handlers
        also call the <code><a href="../api/index.html#preventDefault">preventDefault()</a></code> method to prevent
        FoamTree's default response to mouse wheel and touch events.
        As a result, zooming and panning around the visualization will
        not be possible in this case.
      </p>

      <h4>What's in the code?</h4>

      <p>
        <ul>
          <li>Advanced use of <code><a href="../api/index.html#groupLabelDecorator">groupLabelDecorator</a></code></li>
          <li>Processing of the data object to add extra properties</li>
          <li>Customization of group rendering</li>
        </ul>
      </p>
    </div>

    <script src="../carrotsearch.foamtree.js"></script>

    <!-- Include Hammer.js for mobile interactions. Not required for desktop-only apps. -->
    <script src="assets/js/hammer.min.js"></script>

    <script src="assets/js/carrotsearch.jsonp.js"></script>
    <script>
      window.addEventListener("load", function() {
        // Initialize FoamTree
        var nonScrollableFoamTree = new CarrotSearchFoamTree({ id: "non-scrollable-foamtree" });
        var scrollableFoamTree = new CarrotSearchFoamTree({
          id: "scrollable-foamtree",
          onGroupMouseWheel: function (e) {
            e.allowOriginalEventDefault();
            e.preventDefault();
          },
          onGroupDrag: function (e) {
            // Prevent dragging only on touch devices
            if (('ontouchstart' in window)) {
              e.allowOriginalEventDefault();
              e.preventDefault();
            }
          }
        });
        JSONP.load("assets/data/data-mining-100-topic-hierarchical.js", "modelDataAvailable", function (dataObject) {
          nonScrollableFoamTree.set("dataObject", dataObject);
          scrollableFoamTree.set("dataObject", dataObject);
        });

        // Resize FoamTree on orientation change
        window.addEventListener("orientationchange", nonScrollableFoamTree.resize);

        // Resize on window size changes
        window.addEventListener("resize", (function() {
          var timeout;
          return function() {
            window.clearTimeout(timeout);
            timeout = window.setTimeout(nonScrollableFoamTree.resize, 300);
          }
        })());
      });
    </script>
  </body>
</html>